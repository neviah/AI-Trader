(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{3101:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,l.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},4900:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,l.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},6339:function(e,t,s){Promise.resolve().then(s.bind(s,3150))},3150:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return MasterAIPage}});var l=s(7437),a=s(2265),r=s(3293),o=s(5546),i=s(7572),n=s(1396),d=s.n(n),c=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,c.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var x=s(4900),u=s(3101),h=s(5790),g=s(9409);function MasterAIPage(){var e,t,s;let[n,c]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[y,p]=(0,a.useState)(null),[v,j]=(0,a.useState)(!0),[N,w]=(0,a.useState)(!1),[A,I]=(0,a.useState)(15e3);(0,a.useEffect)(()=>{loadMasterPortfolio()},[]);let loadMasterPortfolio=async()=>{try{let e=await fetch("https://ai-trader-yiea.onrender.com/api/portfolio");if(e.ok){let t=await e.json();f(t.masterPortfolio)}}catch(e){console.error("Failed to load master portfolio:",e)}},runGlobalAnalysis=async()=>{c(!0),w(!1);try{let e=await fetch("https://ai-trader-yiea.onrender.com/api/master-ai-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"analyze"})});if(!e.ok)throw Error("API error: ".concat(e.status));let t=await e.json();p(t),f(t.masterPortfolio),w(!0),setTimeout(()=>{let e=document.getElementById("analysis-results");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300),setTimeout(()=>{w(!1)},3e3)}catch(e){console.error("Global analysis failed:",e),alert("AI Analysis failed. Check console for details.")}finally{c(!1)}},toggleAITrading=async()=>{try{j(!v),alert(v?"AI Trading paused for your account":"AI Trading resumed for your account")}catch(e){console.error("Failed to toggle AI trading:",e)}},startAIOnboarding=async()=>{if(A<100){alert("Please add funds to your wallet first (minimum $100)");return}try{let s=await fetch("/api/master-ai-supabase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"onboard",userId:"user-"+Date.now(),initialInvestment:A})});if(s.ok){var e,t;let l=await s.json();j(!0),alert("✅ AI Trading started! Your $".concat((A||0).toLocaleString()," has been allocated across ").concat((null==l?void 0:null===(t=l.userPortfolio)||void 0===t?void 0:null===(e=t.portfolio)||void 0===e?void 0:e.length)||0," AI-selected stocks.")),console.log("User portfolio:",l.userPortfolio)}}catch(e){console.error("Onboarding failed:",e)}},getActionColor=e=>{switch(e){case"buy":return"text-green-600 bg-green-100";case"sell":return"text-red-600 bg-red-100";case"hold":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},getConfidenceBar=e=>(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full ".concat(e>.7?"bg-green-500":e>.5?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(100*e,"%")}})});return(0,l.jsx)(i.Z,{children:(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(o.Z,{}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)(d(),{href:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,l.jsx)(m,{size:20,className:"mr-2"}),"Back to Dashboard"]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:v?"AI Trading Active":"AI Trading Paused"})})]}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83E\uDDE0 Master AI Trading Engine"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["One AI brain making decisions for all ",(null==b?void 0:b.totalUsers)||1200,"+ users"]})]}),(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-600 rounded-xl p-6 mb-6 shadow-xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Current AI Portfolio"}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-slate-300 text-sm font-medium",children:"Synchronized across all users"}),(0,l.jsxs)("p",{className:"text-emerald-400 text-lg font-bold",children:[((null==b?void 0:b.totalUsers)||1200).toLocaleString()," users"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[((null==b?void 0:b.holdings)||[{symbol:"AAPL",percentage:15,value:75e5,change:2.1},{symbol:"GOOGL",percentage:12,value:6e6,change:1.8},{symbol:"MSFT",percentage:10,value:5e6,change:-.5},{symbol:"NVDA",percentage:8,value:4e6,change:3.2},{symbol:"TSLA",percentage:7,value:35e5,change:4.5}]).map((e,t)=>{var s;return(0,l.jsxs)("div",{className:"bg-slate-700 border border-slate-500 rounded-lg p-4 text-center hover:bg-slate-600 transition-colors",children:[(0,l.jsx)("h3",{className:"font-bold text-white text-xl mb-1",children:e.symbol}),(0,l.jsxs)("p",{className:"text-slate-200 text-sm font-medium",children:[(((null==e?void 0:e.weight)||(null==e?void 0:e.percentage)||0)*((null==e?void 0:e.weight)?100:1)).toFixed(1),"% weight"]}),(0,l.jsxs)("p",{className:"text-emerald-400 text-lg font-bold",children:["$",(null==e?void 0:null===(s=e.value)||void 0===s?void 0:s.toLocaleString())||(null==e?void 0:e.entryPrice)||"N/A"]}),(0,l.jsx)("p",{className:"text-slate-300 text-sm",children:(null==e?void 0:e.entryDate)?"Entry: ".concat(new Date(e.entryDate).toLocaleDateString()):"Change: ".concat(((null==e?void 0:e.change)||0).toFixed(1),"%")})]},t)}),(0,l.jsxs)("div",{className:"bg-blue-700 border border-blue-500 rounded-lg p-4 text-center hover:bg-blue-600 transition-colors",children:[(0,l.jsx)("h3",{className:"font-bold text-white text-xl mb-1",children:"CASH"}),(0,l.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"5.0%"}),(0,l.jsx)("p",{className:"text-blue-200 text-lg font-bold",children:"Reserve"}),(0,l.jsx)("p",{className:"text-blue-300 text-sm",children:"Liquidity"})]})]}),(0,l.jsxs)("div",{className:"border-t border-slate-600 pt-4 text-center",children:[(0,l.jsxs)("p",{className:"text-slate-200 text-sm font-medium",children:["Last AI decision: ",new Date((null==b?void 0:b.lastUpdated)||Date.now()).toLocaleString()]}),(0,l.jsxs)("p",{className:"text-slate-400 text-xs",children:["ID: ",(null==b?void 0:b.aiDecisionId)||"ai-decision-"+Date.now()]})]})]}),(0,l.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"AI Trading Controls"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v?(0,l.jsxs)("button",{onClick:toggleAITrading,className:"py-4 rounded-lg font-semibold text-lg bg-gradient-to-r from-yellow-600 to-orange-600 text-white hover:from-yellow-700 hover:to-orange-700 shadow-lg hover:shadow-xl transition-all flex items-center justify-center",children:[(0,l.jsx)(u.Z,{size:20,className:"mr-2"}),"Pause AI Trading"]}):(0,l.jsxs)("button",{onClick:startAIOnboarding,disabled:A<100,className:"py-4 rounded-lg font-semibold text-lg transition-all flex items-center justify-center ".concat(A<100?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-blue-600 text-white hover:from-green-700 hover:to-blue-700 shadow-lg hover:shadow-xl"),children:[(0,l.jsx)(x.Z,{size:20,className:"mr-2"}),"Start AI Trading ($",(A||0).toLocaleString(),")"]}),(0,l.jsx)("button",{onClick:runGlobalAnalysis,disabled:n,className:"py-4 rounded-lg font-semibold text-lg transition-all flex items-center justify-center ".concat(n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl"),children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"AI Analyzing..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{size:20,className:"mr-2"}),"Run Market Analysis"]})}),N&&(0,l.jsx)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 p-4 bg-green-500/20 border border-green-400/50 rounded-lg text-green-300 text-center",children:"✅ Analysis complete! Check results below ⬇️"}),(0,l.jsx)(d(),{href:"/portfolio",children:(0,l.jsxs)("button",{className:"w-full py-4 rounded-lg font-semibold text-lg bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800 shadow-lg hover:shadow-xl transition-all flex items-center justify-center",children:[(0,l.jsx)(g.Z,{size:20,className:"mr-2"}),"View Portfolio"]})})]}),A<100&&(0,l.jsx)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,l.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,l.jsx)("strong",{children:"Add funds to start:"})," You need at least $100 to begin AI trading.",(0,l.jsx)(d(),{href:"/wallet",className:"text-yellow-900 underline hover:text-yellow-700 ml-1",children:"Add funds to your wallet →"})]})}),(0,l.jsxs)("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"text-blue-900 font-medium mb-2",children:"\uD83E\uDD16 How Master AI Works:"}),(0,l.jsxs)("ul",{className:"text-blue-800 text-sm space-y-1",children:[(0,l.jsx)("li",{children:"• AI continuously monitors global markets, news, and economic indicators"}),(0,l.jsxs)("li",{children:["• Makes centralized buy/sell decisions affecting all ",(null==b?void 0:b.totalUsers)||1200,"+ users"]}),(0,l.jsx)("li",{children:"• Your funds are automatically allocated to AI-selected stocks"}),(0,l.jsx)("li",{children:"• When AI sells, your positions sell automatically too"}),(0,l.jsx)("li",{children:"• You can pause/resume AI trading anytime"})]})]})]}),y&&(0,l.jsxs)(r.E.div,{id:"analysis-results",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-emerald-900 to-teal-900 border-2 border-emerald-400 rounded-xl p-6 shadow-xl shadow-emerald-400/30",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Latest AI Global Analysis"}),(0,l.jsx)("span",{className:"px-4 py-2 bg-emerald-500 text-white text-sm font-bold rounded-full animate-pulse shadow-lg",children:"\uD83C\uDFAF NEW RESULTS"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"bg-slate-700 border border-emerald-400 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-emerald-400",children:(null==y?void 0:null===(e=y.aiDecisions)||void 0===e?void 0:e.filter(e=>"buy"===e.action).length)||0}),(0,l.jsx)("div",{className:"text-sm font-medium text-emerald-200",children:"Buy Signals"})]}),(0,l.jsxs)("div",{className:"bg-slate-700 border border-red-400 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-red-400",children:(null==y?void 0:null===(t=y.aiDecisions)||void 0===t?void 0:t.filter(e=>"sell"===e.action).length)||0}),(0,l.jsx)("div",{className:"text-sm font-medium text-red-200",children:"Sell Signals"})]}),(0,l.jsxs)("div",{className:"bg-slate-700 border border-yellow-400 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:(null==y?void 0:null===(s=y.aiDecisions)||void 0===s?void 0:s.filter(e=>"hold"===e.action).length)||0}),(0,l.jsx)("div",{className:"text-sm font-medium text-yellow-200",children:"Hold Signals"})]}),(0,l.jsxs)("div",{className:"bg-slate-700 border border-purple-400 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-purple-400",children:((null==y?void 0:y.affectedUsers)||1200).toLocaleString()}),(0,l.jsx)("div",{className:"text-sm font-medium text-purple-200",children:"Users Affected"})]})]}),(0,l.jsx)("div",{className:"space-y-4",children:((null==y?void 0:y.aiDecisions)||[]).map((e,t)=>(0,l.jsxs)(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"bg-slate-700 border border-slate-500 rounded-lg p-4 hover:bg-slate-600 transition-colors",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h3",{className:"font-bold text-white text-xl",children:e.symbol}),(0,l.jsx)("span",{className:"px-3 py-1 rounded-lg font-bold ".concat(getActionColor(e.action)),children:e.action.toUpperCase()})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-white font-bold text-lg",children:["$",((null==e?void 0:e.currentPrice)||(null==e?void 0:e.current_price)||0).toFixed(2)]}),(0,l.jsxs)("p",{className:"text-slate-300 text-sm font-medium",children:["Target: $",((null==e?void 0:e.targetPrice)||(null==e?void 0:e.target_price)||0).toFixed(2)]})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,l.jsx)("span",{className:"text-slate-200 text-sm font-medium",children:"AI Confidence"}),(0,l.jsxs)("span",{className:"text-white font-bold",children:[(100*((null==e?void 0:e.confidence)||0)).toFixed(1),"%"]})]}),getConfidenceBar(e.confidence)]}),(0,l.jsx)("p",{className:"text-slate-200 text-sm",children:e.reasoning})]},e.symbol))}),(0,l.jsxs)("div",{className:"mt-6 text-center text-gray-400 text-sm border-t border-white/10 pt-4",children:[(0,l.jsxs)("p",{children:["Global analysis completed at ",new Date((null==y?void 0:y.timestamp)||Date.now()).toLocaleString()]}),(0,l.jsxs)("p",{className:"text-yellow-400",children:["These decisions will affect all ",((null==y?void 0:y.affectedUsers)||1200).toLocaleString()," platform users",(null==y?void 0:y.paperTrading)&&" • Paper Trading Mode"]})]})]})]})]})})}},7572:function(e,t,s){"use strict";s.d(t,{Z:function(){return AuthGuard}});var l=s(7437),a=s(9594),r=s(4033),o=s(2265);function AuthGuard(e){let{children:t}=e,{isAuthenticated:s,isLoading:i,isInitialized:n,initialize:d}=(0,a.a)(),c=(0,r.useRouter)();return((0,o.useEffect)(()=>{n||d()},[n,d]),(0,o.useEffect)(()=>{!n||i||s||c.push("/auth/login")},[s,i,n,c]),!n||i)?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?(0,l.jsx)(l.Fragment,{children:t}):null}},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[57,17,293,546,971,472,744],function(){return e(e.s=6339)}),_N_E=e.O()}]);