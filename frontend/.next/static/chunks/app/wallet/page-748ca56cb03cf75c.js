(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{1298:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5340:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5339:function(e,t,a){Promise.resolve().then(a.bind(a,133))},133:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return WalletPage}});var s=a(7437),r=a(2265),n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var l=a(5340);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,n.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var c=a(4822);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.Z)("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);var m=a(1298);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,n.Z)("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),x=(0,n.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),h=(0,n.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),p=(0,n.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var f=a(5546),b=a(7572),g=a(9594);function WalletPage(){var e,t,a,n,y,j;let{initialize:v,isInitialized:N}=(0,g.a)(),[w,k]=(0,r.useState)("deposit"),[S,A]=(0,r.useState)(""),[C,F]=(0,r.useState)(!1),[P,I]=(0,r.useState)("free"),[Z,B]=(0,r.useState)([]),[D,M]=(0,r.useState)(""),[T,W]=(0,r.useState)(!1),[z,$]=(0,r.useState)({total:1e4,trading:7500,available:2500});(0,r.useEffect)(()=>{N||v()},[N,v]),(0,r.useEffect)(()=>{fetchUserBalance(),fetchBankAccounts()},[]);let fetchUserBalance=async()=>{try{let e=await fetch("/api/user/balance?userId=user-123");if(e.ok){let t=await e.json();$({total:t.total||1e4,trading:t.trading||7500,available:t.available||2500})}}catch(e){console.error("Failed to fetch balance:",e)}},fetchBankAccounts=async()=>{try{let t=await fetch("/api/banking?userId=user-123");if(t.ok){var e;let a=await t.json();B(a.bankAccounts||[]),(null===(e=a.bankAccounts)||void 0===e?void 0:e.length)>0&&M(a.bankAccounts[0].id)}}catch(e){console.error("Failed to fetch bank accounts:",e)}},connectBankAccount=async()=>{try{F(!0);let e=await fetch("/api/banking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"connect_bank",userId:"user-123",email:"demo@ai-trader.com"})}),t=await e.json();if(e.ok)alert("Bank connection flow would start here. In production, this redirects to Stripe's secure bank verification."),W(!1),await fetchBankAccounts();else throw Error(t.error)}catch(e){console.error("Bank connection failed:",e),alert("Bank connection failed. Please try again.")}finally{F(!1)}},E=z.total,O=z.trading,Y=z.available,q="free",_=[{id:"free",name:"Free Tier",icon:i,price:"Free",profitShare:"20%",tradeFee:"0.1%",managementFee:"None",benefits:["You keep 80% of profits","Only pay when you win","Perfect for getting started","Full AI trading features"],color:"blue",popular:!1},{id:"premium",name:"Premium",icon:l.Z,price:"$19/month",profitShare:"15%",tradeFee:"0.05%",managementFee:"0.5% annually",benefits:["You keep 85% of profits","Lower trading fees","Priority support","Advanced analytics"],color:"purple",popular:!0},{id:"pro",name:"Pro Tier",icon:d,price:"$49/month",profitShare:"10%",tradeFee:"None",managementFee:"0.25% annually",benefits:["You keep 90% of profits","No trading fees","White-glove support","Custom strategies"],color:"gold",popular:!1}],handleDeposit=async e=>{e.preventDefault(),F(!0);try{let e=await fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseFloat(S),userId:"user-123"})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to create payment intent");console.log("Payment intent created:",t.clientSecret),alert("Payment intent created! In production, this would redirect to Stripe checkout for $".concat(S)),A(""),await fetch("/api/user/balance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"user-123",amount:parseFloat(S),type:"deposit",transactionId:t.paymentIntentId})}),await fetchUserBalance()}catch(e){console.error("Deposit error:",e),alert(e.message||"Failed to process deposit")}finally{F(!1)}},handleWithdraw=async()=>{if(!(!S||0>=parseFloat(S))){if(!D&&0===Z.length){alert("Please connect a bank account first");return}F(!0);try{var e;let t=await fetch("/api/banking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"withdraw",userId:"user-123",amount:parseFloat(S),paymentMethodId:D||(null===(e=Z[0])||void 0===e?void 0:e.id),customerId:"stripe-customer-123",liquidationRequired:O>0})}),a=await t.json();if(!t.ok)throw Error(a.error||"Withdrawal failed");alert("Withdrawal of $".concat(S," initiated! ").concat(a.withdrawal.estimatedArrival)),await fetch("/api/user/balance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"user-123",amount:parseFloat(S),type:"withdraw",transactionId:a.withdrawal.id})}),await fetchUserBalance(),A("")}catch(e){console.error("Withdrawal failed:",e),alert("Withdrawal failed. Please try again.")}F(!1)}};return(0,s.jsx)(b.Z,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(f.Z,{}),(0,s.jsxs)("main",{className:"container mx-auto px-6 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Wallet"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your funds, view your balance, and choose your trading tier"})]}),(0,s.jsx)("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Current Plan: ",null===(e=_.find(e=>e.id===q))||void 0===e?void 0:e.name]}),(0,s.jsxs)("p",{className:"text-gray-600",children:["You keep ",(null===(t=_.find(e=>e.id===q))||void 0===t?void 0:t.profitShare)==="20%"?"80%":(null===(a=_.find(e=>e.id===q))||void 0===a?void 0:a.profitShare)==="15%"?"85%":"90%"," of trading profits"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:null===(n=_.find(e=>e.id===q))||void 0===n?void 0:n.price}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Current plan"})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4",children:(0,s.jsx)(c.Z,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Balance"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",E.toLocaleString()]})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600 mr-4",children:(0,s.jsx)(o,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Currently Trading"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",O.toLocaleString()]})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4",children:(0,s.jsx)(m.Z,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Available"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",Y.toLocaleString()]})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex space-x-1 mb-6",children:[(0,s.jsxs)("button",{onClick:()=>k("deposit"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("deposit"===w?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[(0,s.jsx)(o,{size:16,className:"inline mr-2"}),"Deposit Funds"]}),(0,s.jsxs)("button",{onClick:()=>k("withdraw"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("withdraw"===w?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[(0,s.jsx)(u,{size:16,className:"inline mr-2"}),"Withdraw Funds"]})]}),"deposit"===w&&(0,s.jsxs)("form",{onSubmit:handleDeposit,className:"max-w-md",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Amount"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(m.Z,{size:20,className:"text-gray-400"})}),(0,s.jsx)("input",{type:"number",min:"10",max:"50000",step:"0.01",value:S,onChange:e=>A(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum deposit: $10 | Maximum deposit: $50,000"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{className:"flex items-center p-3 border border-gray-300 rounded-md",children:[(0,s.jsx)(x,{size:20,className:"text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-sm",children:"Credit/Debit Card"})]})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Secure payments powered by Stripe"})]}),(0,s.jsx)("button",{type:"submit",disabled:C||!S,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:C?"Processing...":"Deposit $".concat(S||"0"," & Start AI Trading")}),(0,s.jsx)("div",{className:"mt-3 bg-blue-50 border border-blue-200 rounded-md p-3",children:(0,s.jsxs)("p",{className:"text-blue-800 text-xs",children:[(0,s.jsx)("strong",{children:"Auto-Start AI Trading:"})," Your deposit will automatically be allocated by our AI across diversified stocks. You can pause AI trading anytime from your dashboard."]})})]}),"withdraw"===w&&(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),handleWithdraw()},className:"max-w-md",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Withdrawal Amount"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(m.Z,{size:20,className:"text-gray-400"})}),(0,s.jsx)("input",{type:"number",min:"10",max:Y,step:"0.01",value:S,onChange:e=>A(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Available for withdrawal: $",Y.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account"}),Z.length>0?(0,s.jsxs)("div",{className:"space-y-2",children:[Z.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>M(e.id),className:"p-3 border rounded-md cursor-pointer flex items-center justify-between ".concat(D===e.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h,{size:20,className:"text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.bank_name||"Bank Account"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["****",e.last4]})]})]}),D===e.id&&(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]},e.id)),(0,s.jsxs)("button",{type:"button",onClick:()=>W(!0),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[(0,s.jsx)(p,{size:16,className:"mr-1"}),"Add another bank account"]})]}):(0,s.jsxs)("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-md",children:[(0,s.jsx)(h,{size:24,className:"mx-auto text-gray-400 mb-2"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"No bank account connected"}),(0,s.jsx)("button",{type:"button",onClick:connectBankAccount,disabled:C,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:C?"Connecting...":"Connect Bank Account"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Withdrawals typically take 3-5 business days to process"})]}),(0,s.jsx)("button",{type:"submit",disabled:C||!S||parseFloat(S)>Y,className:"w-full bg-red-600 text-white py-3 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:C?"Processing...":"Withdraw $".concat(S||"0")})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o,{size:20,className:"text-green-500 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Deposit"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Nov 15, 2025"})]})]}),(0,s.jsx)("span",{className:"font-medium text-green-600",children:"+$5,000.00"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u,{size:20,className:"text-red-500 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Withdraw"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Nov 10, 2025"})]})]}),(0,s.jsx)("span",{className:"font-medium text-red-600",children:"-$1,200.00"})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-green-900 font-semibold mb-3",children:"\uD83D\uDCB0 How You Earn Money"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"Your Current Benefits"}),(0,s.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,s.jsxs)("li",{children:["• You keep ","80%"," of all profits"]}),(0,s.jsxs)("li",{children:["• We take ",null===(y=_.find(e=>e.id===q))||void 0===y?void 0:y.profitShare," only when you make money"]}),(0,s.jsx)("li",{children:"• No fees on losing trades"}),(0,s.jsxs)("li",{children:["• Trade fee: ",null===(j=_.find(e=>e.id===q))||void 0===j?void 0:j.tradeFee]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"Example Scenario"}),(0,s.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,s.jsx)("li",{children:"• Your AI makes $1,000 profit"}),(0,s.jsxs)("li",{children:["• You keep: $","800"]}),(0,s.jsxs)("li",{children:["• We keep: $","200"]}),(0,s.jsx)("li",{children:"• Win-win alignment! \uD83E\uDD1D"})]})]})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-sm text-green-600 font-medium",children:(0,s.jsx)("a",{href:"/pricing",className:"hover:text-green-700 underline",children:"View detailed pricing comparison →"})})})]})]})]})})}},7572:function(e,t,a){"use strict";a.d(t,{Z:function(){return AuthGuard}});var s=a(7437),r=a(9594),n=a(4033),i=a(2265);function AuthGuard(e){let{children:t}=e,{isAuthenticated:a,isLoading:l,isInitialized:d,initialize:c}=(0,r.a)(),o=(0,n.useRouter)();return((0,i.useEffect)(()=>{d||c()},[d,c]),(0,i.useEffect)(()=>{!d||l||a||o.push("/auth/login")},[a,l,d,o]),!d||l)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a?(0,s.jsx)(s.Fragment,{children:t}):null}},4033:function(e,t,a){e.exports=a(94)}},function(e){e.O(0,[57,17,546,971,472,744],function(){return e(e.s=5339)}),_N_E=e.O()}]);