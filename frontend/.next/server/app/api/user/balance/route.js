"use strict";(()=>{var e={};e.id=9148,e.ids=[9148],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4425:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>p,originalPathname:()=>w,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>b});var r={};a.r(r),a.d(r,{GET:()=>GET,POST:()=>POST});var s=a(884),o=a(6132),n=a(5798);let i={"user-123":{total:1e4,trading:7500,available:2500,tier:"free",transactions:[{id:"1",type:"deposit",amount:5e3,date:"2025-11-15",status:"completed"},{id:"2",type:"withdrawal",amount:-1200,date:"2025-11-10",status:"completed"}]}};async function GET(e){try{let{searchParams:t}=new URL(e.url),a=t.get("userId");if(!a)return n.Z.json({error:"User ID is required"},{status:400});let r=i[a]||{total:0,trading:0,available:0,tier:"free",transactions:[]};return n.Z.json(r)}catch(e){return console.error("Balance fetch error:",e),n.Z.json({error:"Failed to fetch balance"},{status:500})}}async function POST(e){try{let{userId:t,amount:a,type:r,transactionId:s}=await e.json();if(!t||!a||!r)return n.Z.json({error:"Missing required fields"},{status:400});return i[t]&&("deposit"===r?(i[t].total+=a,i[t].available+=a):"withdrawal"===r&&(i[t].total-=a,i[t].available-=a),i[t].transactions.unshift({id:s||Date.now().toString(),type:r,amount:"withdrawal"===r?-a:a,date:new Date().toISOString().split("T")[0],status:"completed"})),n.Z.json({success:!0})}catch(e){return console.error("Balance update error:",e),n.Z.json({error:"Failed to update balance"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/user/balance/route",pathname:"/api/user/balance",filename:"route",bundlePath:"app/api/user/balance/route"},resolvedPagePath:"/workspaces/AI-Trader/frontend/app/api/user/balance/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:p,staticGenerationBailout:b}=u,w="/api/user/balance/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[1997],()=>__webpack_exec__(4425));module.exports=a})();