"use strict";(()=>{var e={};e.id=4378,e.ids=[4378],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5358:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>d,originalPathname:()=>m,requestAsyncStorage:()=>c,routeModule:()=>s,serverHooks:()=>u,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>p});var o={};r.r(o),r.d(o,{GET:()=>GET});var a=r(884),i=r(6132),n=r(5798);async function getUserPortfolio(e){let t={holdings:[{symbol:"AAPL",weight:.2,entryPrice:175.5,entryDate:"2024-11-15"},{symbol:"GOOGL",weight:.15,entryPrice:142.3,entryDate:"2024-11-14"},{symbol:"MSFT",weight:.18,entryPrice:378.9,entryDate:"2024-11-12"},{symbol:"NVDA",weight:.12,entryPrice:445.2,entryDate:"2024-11-10"},{symbol:"TSLA",weight:.1,entryPrice:242.8,entryDate:"2024-11-08"}],cash:.25},r=t.holdings.map(e=>{let t=15e3*e.weight,r=e.entryPrice*(1+(Math.random()-.5)*.1),o=Math.floor(t/e.entryPrice),a=o*r,i=a-o*e.entryPrice;return{symbol:e.symbol,shares:o,entryPrice:e.entryPrice,currentPrice:r,marketValue:a,costBasis:o*e.entryPrice,unrealizedPnl:i,pnlPercent:i/(o*e.entryPrice)*100,weight:e.weight,entryDate:e.entryDate,aiManaged:!0}}),o=r.reduce((e,t)=>e+t.marketValue,0),a=r.reduce((e,t)=>e+t.costBasis,0),i=o-a,n=15e3*t.cash;return{userId:e,positions:r,cash:n,totalInvestment:15e3,totalMarketValue:o+n,totalPnl:i,totalPnlPercent:i/a*100,syncedWithAI:!0,lastAIUpdate:"2024-11-19T10:30:00Z",aiDecisionId:"ai-decision-12891"}}async function getRecentAIActivity(){return[{timestamp:"2024-11-19T09:45:00Z",action:"REBALANCE",description:"AI increased NVDA allocation from 10% to 12%",affectedUsers:1247,reasoning:"Strong earnings momentum and AI chip demand"},{timestamp:"2024-11-18T14:20:00Z",action:"SELL",symbol:"META",description:"AI sold META positions (5% allocation)",affectedUsers:1247,reasoning:"Regulatory concerns and valuation risk"},{timestamp:"2024-11-17T11:15:00Z",action:"BUY",symbol:"TSLA",description:"AI added TSLA to portfolio (10% allocation)",affectedUsers:1247,reasoning:"Autonomous driving breakthroughs and production scaling"}]}async function GET(e){try{let t=e.nextUrl.searchParams.get("userId")||"user-demo",r=await getUserPortfolio(t),o=await getRecentAIActivity();return n.Z.json({success:!0,portfolio:r,recentAIActivity:o,platformStats:{totalUsers:1247,totalAUM:456e5,aiUptime:99.8,avgReturn:12.4},timestamp:new Date().toISOString()})}catch(e){return console.error("âŒ User portfolio error:",e),n.Z.json({error:"Failed to get user portfolio",details:e.message},{status:500})}}let s=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/user-portfolio/route",pathname:"/api/user-portfolio",filename:"route",bundlePath:"app/api/user-portfolio/route"},resolvedPagePath:"/workspaces/AI-Trader/frontend/app/api/user-portfolio/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:u,headerHooks:d,staticGenerationBailout:p}=s,m="/api/user-portfolio/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[1997],()=>__webpack_exec__(5358));module.exports=r})();