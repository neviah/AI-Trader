"use strict";(()=>{var e={};e.id=7508,e.ids=[7508],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8001:(e,a,r)=>{r.r(a),r.d(a,{headerHooks:()=>d,originalPathname:()=>g,requestAsyncStorage:()=>c,routeModule:()=>i,serverHooks:()=>u,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>p});var t={};r.r(t),r.d(t,{GET:()=>GET,POST:()=>POST});var o=r(884),s=r(6132),n=r(5798);async function POST(e){try{let a=await e.json(),{action:r,userId:t,symbols:o,riskLevel:s}=a;switch(console.log("API Request:",{action:r,userId:t,symbols:o,riskLevel:s}),r){case"onboard":return console.log("Onboarding user:",t||"demo-user"),n.Z.json({success:!0,message:"User onboarded successfully",initialBalance:1e5});case"analyze":console.log("Running analysis for symbols:",o);let i=generateMockDecisions(o||["AAPL","GOOGL","MSFT","AMZN","NVDA"]);return n.Z.json({success:!0,decisions:i,aiDecisions:i,affectedUsers:1200,timestamp:new Date().toISOString(),paperTrading:!0,source:"demo"});case"execute":return console.log("Executing trade"),n.Z.json({success:!0,position:{id:"demo-trade-1",symbol:"AAPL",quantity:10,price:175},portfolioValue:{total:1e5,cash:8e4,positions:2e4}});default:return console.log("Unknown action:",r),n.Z.json({error:"Invalid action",action:r,availableActions:["onboard","analyze","execute"]},{status:400})}}catch(e){return console.error("API error:",e),n.Z.json({error:"Internal server error",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function GET(e){try{return n.Z.json({success:!0,status:"active",portfolio:{positions:[],value:{total:1e5,cash:8e4,positions:2e4,dailyPnl:250,totalPnl:1500},performance:{totalReturn:1.5,sharpeRatio:1.2,maxDrawdown:2.1,winRate:65}},masterPortfolio:{totalUsers:1200,lastUpdated:new Date().toISOString(),totalValue:5e7,performanceToday:2.3,cash:.05,holdings:[{symbol:"AAPL",percentage:15,weight:.15,value:75e5,change:2.1},{symbol:"MSFT",percentage:12,weight:.12,value:6e6,change:1.8},{symbol:"GOOGL",percentage:10,weight:.1,value:5e6,change:-.5},{symbol:"AMZN",percentage:8,weight:.08,value:4e6,change:3.2},{symbol:"NVDA",percentage:7,weight:.07,value:35e5,change:4.5}]},recentDecisions:generateMockDecisions(["AAPL","MSFT"])})}catch(e){return console.error("GET error:",e),n.Z.json({error:"Internal server error",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}function generateMockDecisions(e){return e.slice(0,3).map((e,a)=>({id:`mock-${Date.now()}-${a}`,symbol:e,action:["buy","sell","hold"][Math.floor(3*Math.random())],reasoning:`AI analysis indicates ${e} shows strong technical patterns`,confidence:.75+.2*Math.random(),target_price:100+300*Math.random(),current_price:90+280*Math.random(),targetPrice:100+300*Math.random(),currentPrice:90+280*Math.random(),technical_factors:["RSI oversold","Moving average crossover"],fundamental_factors:["Strong earnings","Positive outlook"],timestamp:new Date().toISOString(),created_at:new Date().toISOString()}))}let i=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/master-ai-supabase/route",pathname:"/api/master-ai-supabase",filename:"route",bundlePath:"app/api/master-ai-supabase/route"},resolvedPagePath:"/workspaces/AI-Trader/frontend/app/api/master-ai-supabase/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:u,headerHooks:d,staticGenerationBailout:p}=i,g="/api/master-ai-supabase/route"}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[1997],()=>__webpack_exec__(8001));module.exports=r})();